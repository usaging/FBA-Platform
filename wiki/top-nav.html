<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FBA-PLATFORM</title>
</head>

<body>
<!-- 顶部导航栏 -->
<nav class="top-nav">
    <div class="nav-container">
        <!-- Logo和标题 -->
        <div class="image-text">
            <span class="image"><img src="{{url_for('static',filename='icons/logo.svg')}}" alt=""></span>
            <div class="text logo-text">
                <span class="name">FBA-PLATFORM</span> 
                <span class="software">SCUT-CHINA_L</span>
            </div>
        </div>

        <!-- 搜索、筛选及操作按钮区域 -->
        <div class="right-section">
            <div class="search-filter">
                <div class="search-bar">
                    <input type="text" placeholder="搜索模型...">
                    <i class="iconfont icon-search"></i>
                </div>
                <div class="select-bar">
                    <select>
                        <option>所有模型</option>
                        <option>酵母模型</option>
                        <option>细菌模型</option>
                    </select>
                </div>
            </div>
            <div class="action-buttons">
                <button class="import-btn" id="importBtn">
                    <i class="iconfont icon-upload"></i> 导入
                </button>
                <button class="prev-btn hidden" id="prevBtn">
                    <i class="iconfont icon-arrow-left"></i> 上一步
                </button>
                <button class="next-btn" id="nextBtn">
                    下一步 <i class="iconfont icon-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>
</nav>

<script>
    // 下一步跳转功能
    document.addEventListener('DOMContentLoaded', () => {
        const currentPath = window.location.pathname;
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const importBtn = document.getElementById('importBtn');

        // 首页隐藏"上一步"按钮
        if (currentPath === '/' || currentPath === '/model') {
            prevBtn.classList.add('hidden');
        } else {
            prevBtn.classList.remove('hidden');
        }
        
        // 设置按钮状态
        if (currentPath.includes('/analysis')) {
            nextBtn.textContent = '计算结果';
            importBtn.innerHTML = '<i class="iconfont icon-download"></i> 导出';
        } else {
            nextBtn.textContent = '下一步';
            importBtn.innerHTML = '<i class="iconfont icon-upload"></i> 导入';
        }
        
        // 下一步按钮点击事件
        nextBtn.addEventListener('click', (e) => {
            e.preventDefault();
            const routes = {
                '/': '/model',
                '/model': '/constraints',
                '/constraints': '/gene',
                '/gene': '/confirm',
                '/confirm': '/result'
            };
            
            const nextRoute = routes[currentPath] || '/model';
            window.location.href = nextRoute;
        });
        
        // 上一步按钮点击事件
        prevBtn.addEventListener('click', (e) => {
            e.preventDefault();
            const routes = {
                '/model': '/',
                '/constraints': '/model',
                '/gene': '/constraints',
                '/confirm': '/gene',
                '/result':'/confirm'
            };
            
            const prevRoute = routes[currentPath] || '/model';
            window.location.href = prevRoute;
        });
    });
</script>
</body>
</html>